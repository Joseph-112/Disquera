<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Crear Artista | ChameleonDisc</title>
        <link href="css/estiloslogin.css" rel="stylesheet" type="text/css"/>
        <link href="css/estilosgeneral.css" rel="stylesheet" type="text/css"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    </h:head>
    <h:body>
        <div>
            <h:form>
                <h:commandButton class="bot" actionListener="#{adminController.cerrarSesion()}" value="Cerrar Sesión" type="submit" ></h:commandButton>
            </h:form>
        </div>
        
        <div>
            <img class="logo" src="imag/logo.png" heigth="80" alt="Go to index" ></img>;
        </div>
        <div class="bigcuadro">
            <div class="contmenu">
                <br></br>
                <h3 class="tit">ADMINISTRADOR</h3>
                <h:form>
                    <p:growl>
                        <p:autoUpdate />
                    </p:growl>
                    <p:menu class="menu" >
                        <p:submenu label="AGREGAR">
                            <p:menuitem value="Crear artista" action="#{adminController.crearArtista()}"/>
                            <p:menuitem value="Crear albúm" action="#{adminController.crearAlbum()}"/>
                            <p:menuitem value="Crear cancion" action="#{adminController.crearCancion()}" />
                            <p:menuitem value="Crear genero" action="#{adminController.crearGenero()}"/>
                        </p:submenu>

                        <p:submenu label="ESTADISTICAS">
                            <p:menuitem value="Estadistica Cancion" action="#{adminController.pedidos()}"/>
                            <p:menuitem value="Estadistica Album" action="#{adminController.estadisticasCancion()}"/>
                            <p:menuitem value="Estadistica Artista" action="#{adminController.estadisticasArtistas()}"/>
                            <p:menuitem value="Estadistica Genero" action="#{adminController.estadisticasGenero()}"/>
                        </p:submenu>
                    </p:menu>
                </h:form>
            </div>
            <div class="contdatos">
                <h:form>
                    <br></br>
                    <h2>AGREGAR ARTISTA</h2>
                    <br></br>
                    <p:inputText type="text" id="artistaname" class="campotexto" placeholder="Nombre Artista" value="#{crearartistaController.nombreartista}" required="true"/>
                    <p:selectOneMenu id="country" value="#{crearartistaController.country.id_nationality}">
                        <f:selectItem itemLabel="--Nacionalidad--" itemValue=""/>
                        <f:selectItems value="#{crearartistaController.countryList()}"/>
                        <f:ajax execute="country" render="cSelected"/>
                    </p:selectOneMenu>
                    
                    <p:outputLabel value="#{crearartistaController.country.country}"/>
                    <p:outputLabel id="cSelected" value="#{crearartistaController.country.id_nationality}"/>
                    
                    <p:selectOneMenu id="genre" value="#{crearartistaController.musicGenre.id_genre}">
                        <f:selectItem itemLabel="--Genero musical--" itemValue=""/>
                        <f:selectItems value="#{crearartistaController.genreList()}"/>
                        <f:ajax execute="genre" render="gSelected"/>
                    </p:selectOneMenu>
                    <br></br>
                    <p:outputLabel value="#{crearartistaController.musicGenre.genre}"/>
                    <p:outputLabel id="gSelected" value="#{crearartistaController.musicGenre.id_genre}"/>
                    <br></br>    
                    <p:outputLabel for="birthday" value="" /> <!--https://www.primefaces.org/showcase/ui/input/datepicker/datePicker.xhtml-->
                    <p:datePicker id="birthday" required="true" class="campotexto" value="#{crearartistaController.fechanacimiento}" placeholder="Fecha nacimiento" locale="es" monthNavigator="true" pattern="yyyy-MM-dd"/>

                    <h3>Foto del artista</h3>
                    <br></br>
                    <p:fileUpload id="fotoartista" required="true" listener="#{crearartistaController.handleFileUpload}" class="campotexto" mode="advanced" dragDropSupport="false" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
                    <p:growl id="messages" showDetail="true" /> 
                    <br></br>
                    <br></br>
                    <h:commandButton class="botones" actionListener="#{crearartistaController.sendData()}" value="Crear" type="submit" ></h:commandButton>
                </h:form>
            </div>
        </div> 
        <br></br>
    </h:body>
</html>